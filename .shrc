alias attach="ssh serve.mort.coffee -t \"tmux attach -t $1\""
alias weblet="ssh weblet.mort.coffee -t \"tmux attach -t $1\""
alias testlet="ssh testlet.mort.coffee -t \"tmux attach -t $1\""
alias minelet="ssh minelet.mort.coffee -t \"tmux attach -t $1\""
alias ytdl="youtube-dl"
alias c="fasd_cd -d"
alias please="history -1 | awk '{\$1=\"\"; print substr(\$0,2)}' | xargs sudo"
alias rand="LC_ALL=C tr -dc A-Za-z0-9_ < /dev/urandom | head -c $1"
alias autoremove='sudo pacman -Rcns $(pacman -Qdtq)'
alias packer="packer --noedit"

function irc
{
	attach irc$1 | tee >(mbell "irc $1")
}

function mkcd
{
	DIR="$1"
	mkdir -p "$DIR"
	cd "$DIR"
}

function cptemp
{
	scp -r . "${1}:tmp2"
	ssh -t "$1" 'rm -rf ~/tmp; mv ~/tmp2 ~/tmp; cd ~/tmp; bash'
}

function tryifi
{
	cptemp martindn@login.ifi.uio.no
}

function pack
{
	if [ "$1" = "" ]; then
		NAME="martindn"
	else
		NAME="$1"
	fi
	rm "$NAME.tgz"
	DIR=$(pwd)
	TMP=$(mktemp -d /tmp/pack.XXXXXXXXXX)
	cp -r * "$TMP"
	cd "$TMP"
	mkdir "$NAME"
	mv * "$NAME" 2>/dev/null
	tar -czvf "$NAME.tgz" "$NAME"
	cd "$DIR"
	mv "$TMP/$NAME.tgz" .
	rm -rf "$TMP"
}

if [ ! "$TMUX" = "" ]; then
	export TERM="xterm-256color"
fi

function cd
{
	builtin cd "$@"
	pwd > ~/.lastdir
}

if [ -f ~/.lastdir ]; then
	cd "$(cat ~/.lastdir)"
fi

if [ -f ~/.shrc-local ]; then
	. ~/.shrc-local
fi
